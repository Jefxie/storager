var storager=function(){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=function(e){try{var t=JSON.parse(e);return t&&t.value}catch(e){return"Err: JSON parse Error"}},s=function(e,t){return a(function(e){var t=new Map;for(var r in e)t.set(r,e[r]);return t}(e).keys()).filter(function(e){return e.startsWith(t)})},f=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"$",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"localStorage";o(this,r),this.secret=e+":",this.storage=window[t]}return t(r,[{key:"get",value:function(e){var t=this._merge(e),r=t.storage,n=t.keys;return c(r.getItem(n))}},{key:"set",value:function(e,t){var r=this._merge(e),n=r.storage,o=r.keys;n.setItem(o,function(e){try{return JSON.stringify({value:e})}catch(e){return"Err: JSON stringify Error"}}(t))}},{key:"del",value:function(e){var t=this._merge(e),r=t.storage,n=t.keys;r.removeItem(n)}},{key:"has",value:function(e){return!!this.get(e)}},{key:"keys",value:function(){var t=this.secret,e=this.storage;return s(e,t).map(function(e){return e.replace(t,"")})}},{key:"values",value:function(){var e=this.secret,r=this.storage;return s(r,e).reduce(function(e,t){return a(e).concat([c(r[t])])},[])}},{key:"clear",value:function(){var e=this.secret;this.removeAll(e)}},{key:"removeAll",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=this.storage,r=s(t,e),n=!0,o=!1,i=void 0;try{for(var u,a=r[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var c=u.value;t.removeItem(c)}}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}}},{key:"_merge",value:function(e){return{keys:this.secret+e,storage:this.storage}}}]),r}();function l(e,t,r){if(!e||!t){var n={};for(var o in v())n[o]=JSON.parse(decodeURIComponent(v()[o])).value;return e?n[e]:n}!function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=new Date;{if(n.setTime(n.getTime()+24*r*3600*1e3),!t)return null==decodeURIComponent(v()[e])&&decodeURIComponent(v()[e]);var o=encodeURIComponent(e),i=encodeURIComponent(JSON.stringify({value:t})),u=null==r?"":";expires="+n.toGMTString();document.cookie="".concat(o,"=").concat(i).concat(u)}}(e,t,r)}function v(){var e={};if(document.cookie){var t=document.cookie.split("; ");for(var r in t){var n=t[r].indexOf("="),o=t[r].substr(0,n),i=t[r].substr(n+1,t[r].length);e[o]=i}}return e}return l.remove=function(e){if(v()[e])document.cookie=e+"=; max-age=0";else{var t=v();for(var r in t)document.cookie=r+"=; max-age=0"}},new(function(e){function n(e,t){var r;return o(this,n),(r=u(this,i(n).call(this,e,t))).cookies=r.createCookies(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(n,f),t(n,[{key:"createCookies",value:function(){return new l}},{key:"createStorage",value:function(e,t){return new f(e,t)}}]),n}())("$","localStorage")}();
